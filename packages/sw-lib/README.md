# sw-lib

A service worker library to make managing fetch requests and caching as easy as possible.

## Installation

`npm install --save-dev sw-lib`

## Demo

Browse sample source code in the [demo directory](https://github.com/GoogleChrome/sw-helpers/tree/master/docs/demos/sw-lib/), or
[try it out](https://googlechrome.github.io/sw-helpers/demos/sw-lib/) directly.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### sw-lib

[packages/sw-lib/src/index.js:77-77](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/index.js#L77-L77 "Source code on GitHub")

The sw-lib module is a high-level library that makes it easier to
configure routes with caching strategies as well as manage precaching
of assets during the install step of a service worker.

**Examples**

```javascript
importScripts('/<Path to Module>/build/sw-lib.min.js');

// cacheRevisionedAssets() can take an array of strings with
// the revision details in the url.
goog.swlib.cacheRevisionedAssets([
    '/styles/main.1234.css',
    '/images/logo.abcd.jpg'
]);

// Or it can accept objects with the URL and revision data
// kept seperate.
goog.swlib.cacheRevisionedAssets([
    {
      url: '/index.html',
      revision: '1234'
    },
    {
      url: '/about.html',
      revision: 'abcd'
    }
]);

// If you have assets that aren't revisioned, you can cache them
// during the installation of you service worker using warmRuntimeCache()
goog.swlib.warmRuntimeCache([
    '/scripts/main.js',
    '/images/default-avater.png'
]);

// warmRuntimeCache can also accept Requests, in case you need greater
// control over the request.
goog.swlib.warmRuntimeCache([
    new Request('/images/logo.png'),
    new Request('/api/data.json')
]);

goog.swlib.router.registerRoute('/', goog.swlib.cacheFirst);
goog.swlib.router.registerRoute('/example/', goog.swlib.networkFirst);
```

### sw-routing

[packages/sw-routing/src/index.js:21-21](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/index.js#L21-L21 "Source code on GitHub")

sw-routing Module

### ExpressRoute

[packages/sw-routing/src/lib/express-route.js:54-95](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/express-route.js#L54-L95 "Source code on GitHub")

**Extends Route**

`ExpressRoute` is a helper class to make defining Express-style
[Routes][Route](#route) easy.

Under the hood, it uses the [`path-to-regexp`](https://www.npmjs.com/package/path-to-regexp)
library to transform the `path` parameter into a regular expression, which is
then matched against the URL's path.

Please note that `ExpressRoute` can only match requests for URLs that are on
the same-origin as the current page. If you need to match cross-origin
requests, you can use either a generic [`Route`][Route](#route) or a
[`RegExpRoute`][RegExpRoute](#regexproute).

**Examples**

```javascript
// Any same-origin requests that start with /path/to and end with one
// additional path segment will match this route, with the last path
// segment passed along to the handler via params.file.
const route = new goog.routing.ExpressRoute({
  path: '/path/to/:file',
  handler: {
    handle: ({event, params}) => {
      // params.file will be set based on the request URL that matched.
      // Do something that returns a Promise.<Response>, like:
      return caches.match(event.request);
    },
  },
});

const router = new goog.routing.Router();
router.registerRoute({route});
```

### RegExpRoute

[packages/sw-routing/src/lib/regexp-route.js:47-76](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/regexp-route.js#L47-L76 "Source code on GitHub")

**Extends Route**

RegExpRoute is a helper class to make defining regular expression based
[Routes][Route](#route) easy.

`RegExpRoute` performs its matches against the full request URL, including
the origin. This means that, unlike [`ExpressRoute`][ExpressRoute](#expressroute),
it's able to match cross-origin requests.

**Examples**

```javascript
// Any requests that match the regular expression will match this route, with
// the capture groups passed along to the handler as an array via params.
const route = new goog.routing.RegExpRoute({
  regExp: new RegExp('^https://example.com/path/to/(\\w+)'),
  handler: {
    handle: ({event, params}) => {
      // params[0], etc. will be set based on the regexp capture groups.
      // Do something that returns a Promise.<Response>, like:
      return caches.match(event.request);
    },
  },
});

const router = new goog.routing.Router();
router.registerRoute({route});
```

### Route

[packages/sw-routing/src/lib/route.js:64-92](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/route.js#L64-L92 "Source code on GitHub")

A `Route` allows you to tell a service worker that it should handle
certain network requests using a specific response strategy.

Two configuration options are required:

-   A `match` function, which examines
    an incoming [`Request`](https://developer.mozilla.org/en-US/docs/Web/API/Request)
    to determine whether this `Route` should apply. The function should return
    a [truthy](https://developer.mozilla.org/en-US/docs/Glossary/Truthy) value
    if the `Route` matches, in which case that return value is passed along to
    the `handle` function.
-   A `handler` object, which should in turn have a function defined on it
    named `handle`. This `handle` function is given the incoming request along
    with any additional parameters generated during the `match`, and returns a
    Promise for a [`Response`](https://developer.mozilla.org/en-US/docs/Web/API/Response).

Instead of implementing your own `handler`, you can use one of the
pre-defined runtime caching strategies from the `sw-runtime-caching` module.

While you can use `Route` directly, the [`RegExpRoute`][RegExpRoute](#regexproute)
and [`ExpressRoute`][ExpressRoute](#expressroute) subclasses provide a convenient
wrapper with a nicer interface for using regular expressions or Express-style
routes as the `match` criteria.

**Examples**

```javascript
// Any navigation requests for URLs that start with /path/to/ will match.
const route = new goog.routing.Route({
  match: ({url, event}) => {
    return event.request.mode === 'navigation' &&
           url.pathname.startsWith('/path/to/');
  },
  handler: {
    handle: ({event}) => {
      // Do something that returns a Promise.<Response>, like:
      return caches.match(event.request);
    },
  },
});

const router = new goog.routing.Router();
router.registerRoute({route});
```

### defaultMethod

[packages/sw-routing/src/lib/constants.js:23-23](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/constants.js#L23-L23 "Source code on GitHub")

The default HTTP method, 'GET', used when there's no specific method
configured for a route.

Type: [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)

### validMethods

[packages/sw-routing/src/lib/constants.js:31-37](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/constants.js#L31-L37 "Source code on GitHub")

The list of valid HTTP methods associated with requests that could be routed.

### Router

[packages/sw-routing/src/lib/router.js:50-148](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/router.js#L50-L148 "Source code on GitHub")

The Router takes one or more [Routes][Route](#route) and registers a [`fetch`
event listener](https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent)
that will respond to network requests if there's a matching route.

It also allows you to define a "default" handler that applies to any requests
that don't explicitly match a `Route`, and a "catch" handler that responds
to any requests that throw an exception while being routed.

**Examples**

```javascript
// The following example sets up two routes, one to match requests with
// "assets" in their URL, and the other for requests with "images", along
// different runtime caching handlers for each.
// Both the routes are registered with the router, and any requests that
// don't match either route will be handled using the default NetworkFirst
// strategy.
const assetRoute = new RegExpRoute({
  regExp: /assets/,
  handler: new goog.runtimeCaching.StaleWhileRevalidate(),
});
const imageRoute = new RegExpRoute({
  regExp: /images/,
  handler: new goog.runtimeCaching.CacheFirst(),
});

const router = new goog.routing.Router();
router.registerRoutes({routes: [assetRoute, imageRoute]});
router.setDefaultHandler({handler: new goog.runtimeCaching.NetworkFirst()});
```

### constructor

[packages/sw-routing/src/lib/express-route.js:65-94](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/express-route.js#L65-L94 "Source code on GitHub")

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The path to use for routing.
           If the path contains [named parameters](https://github.com/pillarjs/path-to-regexp#named-parameters),
           then an Object mapping parameter names to the corresponding value
           will be passed to the handler via `params`.
-   `handler` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An Object with a `handle` method. That method
           will be used to respond to matching requests.
-   `method` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** Only match requests that use this
           HTTP method. Defaults to `'GET'` if not specified.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.path`  
    -   `$0.handler`  
    -   `$0.method`  

### constructor

[packages/sw-routing/src/lib/regexp-route.js:57-75](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/regexp-route.js#L57-L75 "Source code on GitHub")

**Parameters**

-   `regExp` **[RegExp](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp)** The regular expression to match against URLs.
           If the `RegExp` contains [capture groups](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#grouping-back-references),
           then the array of captured values will be passed to the handler via
           `params`.
-   `handler` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The handler to manage the response.
-   `method` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** Only match requests that use this
           HTTP method. Defaults to `'GET'` if not specified.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.regExp`  
    -   `$0.handler`  
    -   `$0.method`  

### constructor

[packages/sw-routing/src/lib/route.js:79-91](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/route.js#L79-L91 "Source code on GitHub")

**Parameters**

-   `match` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The function that determines whether the
           route matches. The function is passed an object with two properties:
           `url`, which is a [URL](https://developer.mozilla.org/en-US/docs/Web/API/URL),
           and `event`, which is a [FetchEvent](https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent).
           `match` should return a truthy value when the route applies, and
           that value is passed on to the handle function.
-   `handler` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An Object with a `handle` method. That function
           is passed an object with the same `url` and `event` properties as
           `match` received, along with an additional property, `params`,
           set to the truthy value that `match` returned.
-   `method` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** Only match requests that use this
           HTTP method. Defaults to `'GET'` if not specified.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.match`  
    -   `$0.handler`  
    -   `$0.method`  

### setDefaultHandler

[packages/sw-routing/src/lib/router.js:59-63](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/router.js#L59-L63 "Source code on GitHub")

An optional default handler will have its handle method called when a
request doesn't have a matching route.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.handler` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An Object with a `handle` method.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `  `)
    -   `$0.handler`  

Returns **void** 

### setCatchHandler

[packages/sw-routing/src/lib/router.js:73-77](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/router.js#L73-L77 "Source code on GitHub")

If a Route throws an error while handling a request, this catch handler
will be called to return an error case.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.handler` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An Object with a `handle` method.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `
     `)
    -   `$0.handler`  

Returns **void** 

### registerRoutes

[packages/sw-routing/src/lib/router.js:87-134](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/router.js#L87-L134 "Source code on GitHub")

Register routes will take an array of Routes to register with the
router.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.routes` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Route](#route)>** 
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.routes`  

Returns **void** 

### registerRoute

[packages/sw-routing/src/lib/router.js:143-147](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-routing/src/lib/router.js#L143-L147 "Source code on GitHub")

Registers a single route with the router.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.route` **[Route](#route)** The route to register.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.route`  

Returns **void** 

### ErrorFactory

[lib/error-factory.js:21-53](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/lib/error-factory.js#L21-L53 "Source code on GitHub")

A simple class to make errors and to help with testing.

#### constructor

[lib/error-factory.js:26-28](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/lib/error-factory.js#L26-L28 "Source code on GitHub")

**Parameters**

-   `errors` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** A object containing key value pairs where the key
    is the error name / ID and the value is the error message.

#### createError

[lib/error-factory.js:35-52](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/lib/error-factory.js#L35-L52 "Source code on GitHub")

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The error name to be generated.
-   `thrownError` **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)?** The thrown error that resulted in this
    message.

Returns **[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)** The generated error.

### RouterWrapper

[packages/sw-lib/src/lib/router-wrapper.js:75-120](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/router-wrapper.js#L75-L120 "Source code on GitHub")

A simple class that pulls together a few different pieces from the
Router Module to surface them in a friendly API.

**Examples**

_How to define a simple route with caching
strategy._

```javascript
self.goog.swlib.router.registerRoute('/about', ....);
```

_How to define a simple route with custom caching
strategy._

```javascript
self.goog.swlib.router.registerRoute('/about', (args) => {
  // The requested URL
  console.log(args.url);

  // The FetchEvent to handle
  console.log(args.event);

  // The parameters from the matching route.
  console.log(args.params);

  // Return a promise that resolves with a Response.
  return fetch(args.url);
}));
```

_How to define a route using a Route instance._

```javascript
const routeInstance = new goog.swlib.Route({
  match: (url) => {
    // Return true or false
    return true;
  },
  handler: {
    handle: (args) => {
      // The requested URL
      console.log(args.url);

      // The FetchEvent to handle
      console.log(args.event);

      // The parameters from the matching route.
      console.log(args.params);

      // Return a promise that resolves with a Response.
      return fetch(args.url);
    },
  },
});
self.goog.swlib.router.registerRoute(routeInstance);
```

### SWLib

[packages/sw-lib/src/lib/sw-lib.js:37-202](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L37-L202 "Source code on GitHub")

This is a high level library to help with using service worker
precaching and run time caching.

### constructor

[packages/sw-lib/src/lib/router-wrapper.js:79-81](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/router-wrapper.js#L79-L81 "Source code on GitHub")

Constructs a new RouterWrapper.

### registerRoute

[packages/sw-lib/src/lib/router-wrapper.js:95-119](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/router-wrapper.js#L95-L119 "Source code on GitHub")

**Parameters**

-   `capture` **([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) | Regex | [Route](#route))** The capture for a route can be one
    of three types.
    1\. It can be an Express style route, like: '/example/:anything/route/'
       The only gotcha with this is that it will only capture URL's on your
       origin.
    1\. A regex that will be tested against request URL's.
    1\. A [Route]<module:sw-routing.Route> instance.
-   `handler` **([function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function) \| [Handler](#handler))** The handler is ignored if you pass in
    a Route object, otherwise it's required. The handler will be called when
    the route is caught by the capture criteria.

### constructor

[packages/sw-lib/src/lib/sw-lib.js:43-46](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L43-L46 "Source code on GitHub")

Initialises an instance of SWLib. An instance of this class is
accessible when the module is imported into a service worker as
`self.goog.swlib`.

### cacheRevisionedAssets

[packages/sw-lib/src/lib/sw-lib.js:65-74](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L65-L74 "Source code on GitHub")

Revisioned assets can be cached intelligently
during the install (i.e. old files are cleared from the cache, new files
are added to the cache and unchanged files are left as is).

**Parameters**

-   `revisionedFiles` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object))>** A set of urls to cache
    when the service worker is installed.

**Examples**

```javascript
self.goog.swlib.cacheRevisionedAssets([
    '/styles/main.1234.css',
    {
      url: '/index.html',
      revision: '1234'
    }
]);
```

### warmRuntimeCache

[packages/sw-lib/src/lib/sw-lib.js:90-99](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L90-L99 "Source code on GitHub")

Any assets you wish to cache ahead of time which can't be revisioned
should be cached with this method. All assets are cached on install
regardless of whether an older version of the request is in the cache.

**Parameters**

-   `unrevisionedFiles` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request))>** A set of urls to cache
    when the service worker is installed.

**Examples**

```javascript
self.goog.swlib.warmRuntimeCache([
    '/scripts/main.js',
    new Request('/images/logo.png')
]);
```

### router

[packages/sw-lib/src/lib/sw-lib.js:105-107](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L105-L107 "Source code on GitHub")

A getter for the Router Wrapper.

Returns **[RouterWrapper](#routerwrapper)** Returns the Router Wrapper

### cacheFirst

[packages/sw-lib/src/lib/sw-lib.js:115-117](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L115-L117 "Source code on GitHub")

A cache first run-time caching strategy.

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Options object that can be used to define
    arguments on the caching strategy.

Returns **[CacheFirst](#cachefirst)** The caching handler instance.

### cacheOnly

[packages/sw-lib/src/lib/sw-lib.js:125-127](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L125-L127 "Source code on GitHub")

A cache only run-time caching strategy.

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Options object that can be used to define
    arguments on the caching strategy.

Returns **[CacheFirst](#cachefirst)** The caching handler instance.

### networkFirst

[packages/sw-lib/src/lib/sw-lib.js:135-137](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L135-L137 "Source code on GitHub")

A network first run-time caching strategy.

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Options object that can be used to define
    arguments on the caching strategy.

Returns **[CacheFirst](#cachefirst)** The caching handler instance.

### networkOnly

[packages/sw-lib/src/lib/sw-lib.js:145-147](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L145-L147 "Source code on GitHub")

A network only run-time caching strategy.

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Options object that can be used to define
    arguments on the caching strategy.

Returns **[CacheFirst](#cachefirst)** The caching handler instance.

### staleWhileRevalidate

[packages/sw-lib/src/lib/sw-lib.js:155-157](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-lib/src/lib/sw-lib.js#L155-L157 "Source code on GitHub")

A stale while revalidate run-time caching strategy.

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Options object that can be used to define
    arguments on the caching strategy.

Returns **[CacheFirst](#cachefirst)** The caching handler instance.

### sw-precaching

[packages/sw-precaching/src/index.js:47-47](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/index.js#L47-L47 "Source code on GitHub")

The precaching module provides helpers that make it easy to cache files
during the install step of your service worker.

The revisioned caching will cache bust requests where appropriate and
only cache assets that have a changed revision asset compared to
the currently cached value.

**Examples**

```javascript
importScripts('/<Path to Module>/build/sw-precaching.min.js');

const precacheManager = new goog.precaching.PrecacheManager();
precacheManager.cacheRevisioned({
  revisionedFiles: [
    '/styles/main.1234.css',
    {
      url: '/',
      revision: '1234'
    }
  ],
});

precacheManager.cacheUnrevisioned({
  unrevisionedFiles: [
    '/',
    '/images/logo.png'
  ]
});
```

### PrecacheManager

[packages/sw-precaching/src/lib/precache-manager.js:30-156](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/precache-manager.js#L30-L156 "Source code on GitHub")

The PrecacheManager is the top level API you are likely to use with
the sw-precaching module.

This class will set up the install listener and orchestrate the caching
of assets.

### constructor

[packages/sw-precaching/src/lib/precache-manager.js:36-41](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/precache-manager.js#L36-L41 "Source code on GitHub")

Creating a PrecacheManager will add an install and activate event listener
to your service worker. This allows the manager to cache assets and
tidy up the no longer required assets.

### cacheRevisioned

[packages/sw-precaching/src/lib/precache-manager.js:113-116](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/precache-manager.js#L113-L116 "Source code on GitHub")

To cache revisioned assets (i.e. urls / assets that you have a revision
for) can be efficiently cached and updated with this method.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.revisionedFiles` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object))>** An array of URL strings
        , which should have revisioning in the file name (i.e. hello.1234.css)) or
        an object with a `url` and `revision` parameter.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `Ar`)
    -   `$0.revisionedFiles`  

**Examples**

```javascript
precacheManager.cacheRevisioned({
  revisionedFiles: [
    // Revision is in the file name
    '/styles/main.1234.css',

    // Object of url and revision can be used as well
    {
      url: '/',
      revision: '1234'
    },
  ]
});
```

### cacheUnrevisioned

[packages/sw-precaching/src/lib/precache-manager.js:145-148](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/precache-manager.js#L145-L148 "Source code on GitHub")

To cache URLs or assets where you don't know the revisioning, should
be cached with this method. This method will always cache these files
on install, regardless of whether they are already cached or not.
This ensures they are up-to-date after a new service worker install.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.unrevisionedFiles` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request))>** An array of URL
        strings or a Request object, which allows you to define custom headers.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.unrevisionedFiles`  

**Examples**

```javascript
precacheManager.cacheUnrevisioned({
  unrevisionedFiles: [
    // Normal URL string
    '/example/',

    // Request with headers
    new Request(
      '/user-info.json',
      {
        headers: {
          'CustomHeader': 'Hello World.'
        }
      }
    ),
  ]
});
```

### constructor

[packages/sw-precaching/src/lib/controllers/revisioned-cache-manager.js:22-26](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/controllers/revisioned-cache-manager.js#L22-L26 "Source code on GitHub")

Constructor for RevisionedCacheManager

### cache

[packages/sw-precaching/src/lib/controllers/revisioned-cache-manager.js:46-49](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/controllers/revisioned-cache-manager.js#L46-L49 "Source code on GitHub")

This method will add the entries to the install list.
This will manage duplicate entries and perform the caching during
the install step.

**Parameters**

-   `rawEntries` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object))>** A raw entry that can be
    parsed into a BaseCacheEntry.

**Examples**

```javascript
revisionedManager.cache([
  '/styles/hello.1234.css',
  {
    url: '/images/logo.png',
    revision: '1234'
  }
]);
```

### constructor

[packages/sw-precaching/src/lib/controllers/base-cache-manager.js:14-17](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/controllers/base-cache-manager.js#L14-L17 "Source code on GitHub")

Constructor for BaseCacheManager

**Parameters**

-   `cacheName` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** This is the cache name to store requested assets.

### cache

[packages/sw-precaching/src/lib/controllers/base-cache-manager.js:26-32](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/controllers/base-cache-manager.js#L26-L32 "Source code on GitHub")

This method will add the entries to the install list.
This will manage duplicate entries and perform the caching during
the install step.

**Parameters**

-   `rawEntries` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request) \| [Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object))>** A raw entry that can be
    parsed into a BaseCacheEntry by the inheriting CacheManager.

### constructor

[packages/sw-precaching/src/lib/models/revision-details-model.js:16-18](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/models/revision-details-model.js#L16-L18 "Source code on GitHub")

Constructor for RevisionDetails Model.

### get

[packages/sw-precaching/src/lib/models/revision-details-model.js:26-28](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/models/revision-details-model.js#L26-L28 "Source code on GitHub")

This method gets the revision details for a given entryID.

**Parameters**

-   `entryID` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the revision.

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) | null)>** Returns a revision string or
null if there is no revision information.

### put

[packages/sw-precaching/src/lib/models/revision-details-model.js:36-38](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/models/revision-details-model.js#L36-L38 "Source code on GitHub")

This method saves the revision details to indexedDB.

**Parameters**

-   `entryID` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the revision.
-   `revision` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The current revision for this entryID.

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** Promise that resolves once the data has been saved.

### constructor

[packages/sw-precaching/src/lib/models/precache-entries/object-precache-entry.js:25-62](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/models/precache-entries/object-precache-entry.js#L25-L62 "Source code on GitHub")

This class gives most control over configuring a cache entry.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.entryID` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the entry. This is the key used
        with IndexDB to store the revision. Normally this is just the URL.
    -   `input.revision` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** This is the revision associated with this
        URL.
    -   `input.url` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The URL to cache.
    -   `input.cacheBust` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** A boolean to indicate if this request
        will require cache busting (i.e. the URL is not unique between SW install).
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.entryID`  
    -   `$0.revision`  
    -   `$0.url`  
    -   `$0.cacheBust`  

### constructor

[packages/sw-precaching/src/lib/models/precache-entries/base-precache-entry.js:21-26](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/models/precache-entries/base-precache-entry.js#L21-L26 "Source code on GitHub")

This constructor expects an object and a number or required fields.
You shouldn't need to use this constructor directly.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.entryID` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
    -   `input.revision` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
    -   `input.request` **[Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request)** 
    -   `input.cacheBust` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.entryID`  
    -   `$0.revision`  
    -   `$0.request`  
    -   `$0.cacheBust`  

### getNetworkRequest

[packages/sw-precaching/src/lib/models/precache-entries/base-precache-entry.js:40-66](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/models/precache-entries/base-precache-entry.js#L40-L66 "Source code on GitHub")

This method is required since any revisioned request needs to cache bust.
To ensure this is consistent, CacheManagers will make a network request
using this specially formatted request.

When caching the response, it will be cached against the origin `request`,
removing lookup for the cachebusted URL.

Returns **[Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request)** Returns a cache busted request if needed, otherwise
a normal request with credentials set to 'same-origin' and redirect set to
follow.

### constructor

[packages/sw-precaching/src/lib/controllers/unrevisioned-cache-manager.js:20-22](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/controllers/unrevisioned-cache-manager.js#L20-L22 "Source code on GitHub")

Constructor for UnreivisionedCacheManager

### cache

[packages/sw-precaching/src/lib/controllers/unrevisioned-cache-manager.js:41-44](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/controllers/unrevisioned-cache-manager.js#L41-L44 "Source code on GitHub")

This method will add the entries to the install list.
This will manage duplicate entries and perform the caching during
the install step.

**Parameters**

-   `rawEntries` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request))>** A raw entry that can be
    parsed into a BaseCacheEntry.

**Examples**

```javascript
revisionedManager.cache([
  '/styles/hello.css',
  new Request('/images/logo.png', {
    // Custom Request Options.
  })
]);
```

### constructor

[packages/sw-precaching/src/lib/models/precache-entries/request-entry.js:17-29](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/models/precache-entries/request-entry.js#L17-L29 "Source code on GitHub")

This is useful for caching unrevisioned requests that require
special headers etc.

**Parameters**

-   `request` **[Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request)** A request to be cached.

### constructor

[packages/sw-precaching/src/lib/models/precache-entries/string-precache-entry.js:18-32](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-precaching/src/lib/models/precache-entries/string-precache-entry.js#L18-L32 "Source code on GitHub")

Cosntructor for StringCacheEntry.

**Parameters**

-   `url` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A URL to cache.

### sw-cache-expiration

[packages/sw-cache-expiration/src/index.js:21-21](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-cache-expiration/src/index.js#L21-L21 "Source code on GitHub")

sw-cache-expiration Module

### Behavior

[packages/sw-cache-expiration/src/lib/behavior.js:52-293](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-cache-expiration/src/lib/behavior.js#L52-L293 "Source code on GitHub")

**Examples**

```javascript
// Used as an automatically invoked as "behavior" by a RequestWrapper:

const requestWrapper = new goog.runtimeCaching.RequestWrapper({
  cacheName: 'runtime-cache',
  behaviors: [
    new goog.cacheExpiration.Behavior({maxEntries: 10})
  ]
});

// Set up a route to match any requests made against the example.com domain.
// The requests will be handled with a stale-while-revalidate policy, and the
// cache size will be capped at 10 entries.
const route = new goog.routing.RegExpRoute({
  match: ({url}) => url.domain === 'example.com',
  handler: new goog.runtimeCaching.StaleWhileRevalidate({requestWrapper})
});
```

```javascript
// Explicitly invoked usage independent of the goog.routing framework, via
// the expireOldEntries() method:

// TODO: Write sample code.
```

### constructor

[packages/sw-cache-expiration/src/lib/behavior.js:63-78](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-cache-expiration/src/lib/behavior.js#L63-L78 "Source code on GitHub")

Creates a new `Behavior` instance, which is used to remove entries from a
[`Cache`](https://developer.mozilla.org/en-US/docs/Web/API/Cache) once
certain criteria—maximum number of entries, age of entry, or both—is met.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The input object to this function.
    -   `input.maxEntries` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** The maximum size of the cache. Entries
               will be expired using a LRU policy once the cache reaches this size.
    -   `input.maxAgeSeconds` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** The maximum age for fresh entries.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `
     `)
    -   `$0.maxEntries`  
    -   `$0.maxAgeSeconds`  

### constructor

[packages/sw-broadcast-cache-update/src/lib/behavior.js:89-95](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-broadcast-cache-update/src/lib/behavior.js#L89-L95 "Source code on GitHub")

Creates a new `Behavior` instance, which is used to compare two
[Responses](https://developer.mozilla.org/en-US/docs/Web/API/Response)
and use the [Broadcast Channel API](https://developers.google.com/web/updates/2016/09/broadcastchannel)
to notify interested parties when those Responses differ.

For efficiency's sake, the underlying response bodies are not compared;
only specific response headers are checked.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The input object to this function.
    -   `input.channelName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name that will be used when creating
               the [`BroadcastChannel`](https://developer.mozilla.org/en-US/docs/Web/API/BroadcastChannel/BroadcastChannel).
    -   `input.headersToCheck` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>** A list of headers that will be
               used to determine whether the `Response`s differ. If not provided,
               the values `['content-length', 'etag', 'last-modified']` are used.
    -   `input.source` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** An attribution value that will be used in the
               broadcast message to indicate where the update originated. If not
               provided, a
               [default value](constants#defaultSource) will be used.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.channelName`  
    -   `$0.headersToCheck`  
    -   `$0.source`  

### updateTimestamp

[packages/sw-cache-expiration/src/lib/behavior.js:150-165](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-cache-expiration/src/lib/behavior.js#L150-L165 "Source code on GitHub")

Updates the timestamp stored in IndexedDB for `url` to be equal to `now`.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The input object to this function.
    -   `input.cacheName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the cache the Responses belong to.
    -   `input.url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
    -   `input.now` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** A timestamp. Defaults to the current time.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.cacheName`  
    -   `$0.url`  
    -   `$0.now`  

### expireEntries

[packages/sw-cache-expiration/src/lib/behavior.js:176-197](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-cache-expiration/src/lib/behavior.js#L176-L197 "Source code on GitHub")

Expires entries, both based on the the maximum age and the maximum number
of entries, depending on how this instance is configured.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The input object to this function.
    -   `input.cacheName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the cache the Responses belong to.
    -   `input.now` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** A timestamp. Defaults to the current time.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `
     `)
    -   `$0.cacheName`  
    -   `$0.now`  

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>** A list of the URLs that were expired.

### notifyIfUpdated

[packages/sw-broadcast-cache-update/src/lib/behavior.js:151-159](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-broadcast-cache-update/src/lib/behavior.js#L151-L159 "Source code on GitHub")

An explicit method to call from your own code to trigger the comparison of
two [Response](https://developer.mozilla.org/en-US/docs/Web/API/Response)
and fire off a notification via the
[Broadcast Channel API](https://developers.google.com/web/updates/2016/09/broadcastchannel)
if they differ.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The input object to this function.
    -   `input.first` **[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)** One of the responses to compare.
               This should not be an [opaque response](http://stackoverflow.com/questions/39109789).
    -   `input.second` **[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)** Another of the respones to compare.
               This should not be an [opaque response](http://stackoverflow.com/questions/39109789).
    -   `input.cacheName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the cache the Responses belong to.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.first`  
    -   `$0.second`  
    -   `$0.cacheName`  

### sw-broadcast-cache-update

[packages/sw-broadcast-cache-update/src/index.js:21-21](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-broadcast-cache-update/src/index.js#L21-L21 "Source code on GitHub")

sw-broadcast-cache-update Module

### Behavior

[packages/sw-broadcast-cache-update/src/lib/behavior.js:68-160](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-broadcast-cache-update/src/lib/behavior.js#L68-L160 "Source code on GitHub")

**Examples**

```javascript
// Used as an automatically invoked as "behavior" by a RequestWrapper:

const requestWrapper = new goog.runtimeCaching.RequestWrapper({
  cacheName: 'runtime-cache',
  behaviors: [
    new goog.broadcastCacheUpdate.Behavior({channelName: 'cache-updates'})
  ]
});

// Set up a route to match any requests made against the example.com domain.
// The requests will be handled with a stale-while-revalidate policy, and the
// cache update notification behavior, as configured in requestWrapper, will
// be automatically applied.
const route = new goog.routing.RegExpRoute({
  match: ({url}) => url.domain === 'example.com',
  handler: new goog.runtimeCaching.StaleWhileRevalidate({requestWrapper})
});
```

```javascript
// Explicitly invoked usage independent of the goog.routing framework, via
// the notifyIfUpdated() method:

const cacheUpdateBehavior = new goog.broadcastCacheUpdates.Behavior({
  channelName: 'cache-updates'
});

const url = 'https://example.com';
const cacheName = 'runtime-cache';

const cache = await caches.open(cacheName);
const oldResponse = await cache.match(url);
const newResponse = await fetch(url);
await cache.put(url, newResponse);

// Only check for an update if there was a previously cached Response.
if (oldResponse) {
  cacheUpdateBehavior.notifyIfUpdated({
    first: oldResponse,
    second: newResponse,
    cacheName
  });
}
```

### broadcastUpdate

[packages/sw-broadcast-cache-update/src/lib/broadcast-update.js:55-69](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-broadcast-cache-update/src/lib/broadcast-update.js#L55-L69 "Source code on GitHub")

Uses the [Broadcast Channel API](https://developers.google.com/web/updates/2016/09/broadcastchannel)
to notify interested subscribers about a change to a cached resource.

You would not normally call this method directly; it's called automatically
by an instance of the [Behavior](#behavior) class. It's exposed here for the
benefit of developers who would rather not use the full `Behavior`
implementation.

The message that's posted takes the following format, inspired by the
[Flux standard action](https://github.com/acdlite/flux-standard-action#introduction)
format. (Usage of [Flux](https://facebook.github.io/flux/) itself is not at
all required.)

    {
      type: 'CACHE_UPDATED',
      meta: 'sw-broadcast-cache-update',
      payload: {
        cacheName: 'the-cache-name',
        updatedUrl: 'https://example.com/'
      }
    }

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.channel` **BroadcastChannel** The `BroadcastChannel` to use.
    -   `input.cacheName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the cache in which the updated
               `Response` was stored.
    -   `input.url` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The URL associated with the updated `Response`.
    -   `input.source` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A string identifying this library as the source
               of the update message.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.channel`  
    -   `$0.cacheName`  
    -   `$0.url`  
    -   `$0.source`  

### cacheUpdatedMessageType

[packages/sw-broadcast-cache-update/src/lib/constants.js:22-22](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-broadcast-cache-update/src/lib/constants.js#L22-L22 "Source code on GitHub")

The value `'CACHE_UPDATED'`, used as the `type` field of the update message.

Type: [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)

### responsesAreSame

[packages/sw-broadcast-cache-update/src/lib/responses-are-same.js:33-42](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-broadcast-cache-update/src/lib/responses-are-same.js#L33-L42 "Source code on GitHub")

Given two `Response`s, compares several header values to see if they are
the same or not.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.first` **[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)** One of the `Response`s.
    -   `input.second` **[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)** Another of the `Response`s.
    -   `input.headersToCheck` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>** A list of headers that will be
               used to determine whether the `Response`s differ.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.first`  
    -   `$0.second`  
    -   `$0.headersToCheck`  

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Whether or not the `Response` objects are assumed to be
        the same.

### sw-runtime-caching

[packages/sw-runtime-caching/src/index.js:22-22](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/index.js#L22-L22 "Source code on GitHub")

sw-runtime-caching Module

### RequestWrapper

[packages/sw-runtime-caching/src/lib/request-wrapper.js:39-208](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/request-wrapper.js#L39-L208 "Source code on GitHub")

This class is used by the various subclasses of `Handler` to configure the
cache name and any desired behaviors, which is to say classes that implement
request lifecycle callbacks.

It automatically triggers any registered callbacks at the appropriate time.
The current set of behavior callbacks, along with the parameters they're
given and when they're called, is:

-   `cacheWillUpdate({request, response})`: Called prior to writing an entry
    to the cache, allowing the callback to decide whether or not the cache
    entry should be written.
-   `cacheDidUpdate({cacheName, oldResponse, newResponse})`: Called whenever
    an entry is written to the cache, giving the callback a chance to notify
    clients about the update or implement cache expiration.
-   `fetchDidFail({request})`: Called whenever a network request fails.

### CacheFirst

[packages/sw-runtime-caching/src/lib/cache-first.js:34-57](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/cache-first.js#L34-L57 "Source code on GitHub")

**Extends Handler**

**Examples**

```javascript
// Set up a route to match any requests made for URLs that end in .txt.
// The requests are handled with a cache-first strategy.
const route = new goog.routing.RegExpRoute({
  regExp: /\.txt$/,
  handler: new goog.runtimeCaching.CacheFirst(),
});

const router = new goog.routing.Router();
router.registerRoute({route});
```

### CacheOnly

[packages/sw-runtime-caching/src/lib/cache-only.js:34-54](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/cache-only.js#L34-L54 "Source code on GitHub")

**Extends Handler**

**Examples**

```javascript
// Set up a route to match any requests made for URLs that end in .txt.
// The requests are handled with a cache-only strategy.
const route = new goog.routing.RegExpRoute({
  regExp: /\.txt$/,
  handler: new goog.runtimeCaching.CacheOnly(),
});

const router = new goog.routing.Router();
router.registerRoute({route});
```

### Handler

[packages/sw-runtime-caching/src/lib/handler.js:24-57](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/handler.js#L24-L57 "Source code on GitHub")

This a base class meant to be extended by other classes that implement
specific request strategies.

### NetworkFirst

[packages/sw-runtime-caching/src/lib/network-first.js:34-63](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/network-first.js#L34-L63 "Source code on GitHub")

**Extends Handler**

**Examples**

```javascript
// Set up a route to match any requests made for URLs that end in .txt.
// The requests are handled with a network-first strategy.
const route = new goog.routing.RegExpRoute({
  regExp: /\.txt$/,
  handler: new goog.runtimeCaching.NetworkFirst(),
});

const router = new goog.routing.Router();
router.registerRoute({route});
```

### NetworkOnly

[packages/sw-runtime-caching/src/lib/network-only.js:34-53](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/network-only.js#L34-L53 "Source code on GitHub")

**Extends Handler**

**Examples**

```javascript
// Set up a route to match any requests made for URLs that end in .txt.
// The requests are handled with a network-only strategy.
const route = new goog.routing.RegExpRoute({
  regExp: /\.txt$/,
  handler: new goog.runtimeCaching.NetworkOnly(),
});

const router = new goog.routing.Router();
router.registerRoute({route});
```

### StaleWhileRevalidate

[packages/sw-runtime-caching/src/lib/stale-while-revalidate.js:34-61](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/stale-while-revalidate.js#L34-L61 "Source code on GitHub")

**Extends Handler**

**Examples**

```javascript
// Set up a route to match any requests made for URLs that end in .txt.
// The requests are handled with a stale-while-revalidate strategy.
const route = new goog.routing.RegExpRoute({
  regExp: /\.txt$/,
  handler: new goog.runtimeCaching.StaleWhileRevalidate(),
});

const router = new goog.routing.Router();
router.registerRoute({route});
```

### defaultCacheName

[packages/sw-runtime-caching/src/lib/constants.js:25-25](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/constants.js#L25-L25 "Source code on GitHub")

The default cache name, used by RequestWrapper when there's no name provided.
It combines a constant prefix with the `registration.scope` value associated
with the current service worker, ensuring that multiple service workers used
on the same origin will have different default caches.

### constructor

[packages/sw-runtime-caching/src/lib/request-wrapper.js:54-95](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/request-wrapper.js#L54-L95 "Source code on GitHub")

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object wrapper for the underlying parameters.
    -   `input.cacheName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** The name of the cache to use for Handlers
               that involve caching. If none is provided, a default name that
               includes the current service worker scope will be used.
    -   `input.behaviors` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)>?** Any behaviors that should be
               invoked.
    -   `input.fetchOptions` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Values passed along to the
               [`init`](https://developer.mozilla.org/en-US/docs/Web/API/GlobalFetch/fetch#Parameters)
               of all `fetch()` requests made by this wrapper.
    -   `input.matchOptions` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Values passed along to the
               [`options`](https://developer.mozilla.org/en-US/docs/Web/API/Cache/match#Parameters)
               of all cache `match()` requests made by this wrapper.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `se`)
    -   `$0.cacheName`  
    -   `$0.behaviors`  
    -   `$0.fetchOptions`  
    -   `$0.matchOptions`  

### getCache

[packages/sw-runtime-caching/src/lib/request-wrapper.js:101-106](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/request-wrapper.js#L101-L106 "Source code on GitHub")

Returns **Cache** An open `Cache` instance based on the configured
`cacheName`.

### match

[packages/sw-runtime-caching/src/lib/request-wrapper.js:116-121](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/request-wrapper.js#L116-L121 "Source code on GitHub")

Wraps `cache.match()`, using the previously configured cache name and match
options.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.request` **([Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request) \| [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String))** The key for the cache lookup.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.request`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)>** The cached response.

### fetch

[packages/sw-runtime-caching/src/lib/request-wrapper.js:131-143](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/request-wrapper.js#L131-L143 "Source code on GitHub")

Wraps `fetch()`, and calls any `fetchDidFail` callbacks from the
registered behaviors if the request fails.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.request` **([Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request) \| [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String))** The request or URL to be fetched.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.request`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)>** The network response.

### fetchAndCache

[packages/sw-runtime-caching/src/lib/request-wrapper.js:161-207](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/request-wrapper.js#L161-L207 "Source code on GitHub")

Combines both fetching and caching using the previously configured options
and calling the appropriate behaviors.

By default, responses with a status of [2xx](https://fetch.spec.whatwg.org/#ok-status)
will be considered valid and cacheable, but this could be overridden by
configuring one or more behaviors that implement the `cacheWillUpdate`
lifecycle callback.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.request` **[Request](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/request)** The request to fetch.
    -   `input.waitOnCache` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** `true` means the method should wait
               for the cache.put() to complete before returning. The default value
               of `false` means return without waiting.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.request`  
    -   `$0.waitOnCache`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)>** The network response.

### CacheFirst.handle

[packages/sw-runtime-caching/src/lib/cache-first.js:46-56](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/cache-first.js#L46-L56 "Source code on GitHub")

An implementation of a [cache-first](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-falling-back-to-network)
request strategy.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.event` **FetchEvent** The event that triggered the service
               worker's fetch handler.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.event`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)>** The response, either from the cache,
         or if that isn't available, from the network.

### CacheOnly.handle

[packages/sw-runtime-caching/src/lib/cache-only.js:49-53](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/cache-only.js#L49-L53 "Source code on GitHub")

An implementation of a [cache-only](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#cache-only)
request strategy.

The advantage to using this vs. directly calling `caches.match()` is that
it will use the cache configuration and trigger the behaviors defined in
the underlying `RequestWrapper`.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object wrapper for the underlying parameters.
    -   `input.event` **FetchEvent** The event that triggered the service
               worker's fetch handler.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.event`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)>** The response from the cache.

### constructor

[packages/sw-runtime-caching/src/lib/handler.js:32-38](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/handler.js#L32-L38 "Source code on GitHub")

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.requestWrapper` **[RequestWrapper](#requestwrapper)?** An optional `RequestWrapper`
               that is used to configure the cache name and request behaviors. If
               not provided, a new `RequestWrapper` using the
               [default cache name](#defaultCacheName) will be used.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `ro`)
    -   `$0.requestWrapper`  

### handle

[packages/sw-runtime-caching/src/lib/handler.js:54-56](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/handler.js#L54-L56 "Source code on GitHub")

An abstract method that each subclass must implement.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.event` **FetchEvent** The event that triggered the service
               worker's fetch handler.
    -   `input.params` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Additional parameters that might be passed
               in to the method. If used in conjunction with the `Route` class,
               then the return value from the `match` function in `Route` will
               be passed in via this parameter.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.event`  
    -   `$0.params`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)>** A response, obtained from whichever strategy
        is implemented.

### NetworkFirst.handle

[packages/sw-runtime-caching/src/lib/network-first.js:46-62](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/network-first.js#L46-L62 "Source code on GitHub")

An implementation of a [network first](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#network-falling-back-to-cache)
request strategy.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object wrapper for the underlying parameters.
    -   `input.event` **FetchEvent** The event that triggered the service
               worker's fetch handler.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.event`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)>** The response from the network, or if that's
         not available, a previously cached response.

### NetworkOnly.handle

[packages/sw-runtime-caching/src/lib/network-only.js:48-52](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/network-only.js#L48-L52 "Source code on GitHub")

An implementation of a [network-only](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#network-only)
request strategy.

The advantage to using this vs. directly calling `fetch()` is that it will
trigger the behaviors defined in the underlying `RequestWrapper`.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object wrapper for the underlying parameters.
    -   `input.event` **FetchEvent** The event that triggered the service
               worker's fetch handler.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.event`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)>** The response from the network.

### StaleWhileRevalidate.handle

[packages/sw-runtime-caching/src/lib/stale-while-revalidate.js:49-60](https://github.com/GoogleChrome/sw-helpers/blob/db41146aa1f5528b3e958178c53811602079a7ba/packages/sw-runtime-caching/src/lib/stale-while-revalidate.js#L49-L60 "Source code on GitHub")

An implementation of a [stale-while-revalidate](https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/#stale-while-revalidate)
request strategy.

In addition to updating the appropriate caches, if will also trigger any
appropriate behaviors defined in the underlying `RequestWrapper`.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object wrapper for the underlying parameters.
    -   `input.event` **FetchEvent** The event that triggered the service
               worker's fetch handler.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.event`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Response](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5)>** The response from the cache, if present, or
         from the network if not.
